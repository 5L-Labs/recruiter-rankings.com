<h1><%= t('reviews.new.title_for', name: @recruiter.name) %></h1>

<%= form_with url: reviews_path, scope: :review do |f| %>
  <%= f.hidden_field :recruiter_slug, value: @recruiter.public_slug %>

  <div>
    <%= f.label :overall_score, t('reviews.new.overall_score') %> <span style="color:#ef4444" aria-hidden="true">*</span><br>
    <%= f.number_field :overall_score, in: 1..5, step: 1, required: true, autofocus: true, aria: { describedby: 'score-help' } %>
    <small id="score-help" class="muted" style="display:block; margin-top:4px;"><%= t('reviews.new.overall_score_help') %></small>
  </div>

  <div>
    <div style="display:flex; justify-content:space-between; align-items:baseline;">
      <span>
        <%= f.label :text, t('reviews.new.your_experience') %> <span style="color:#ef4444" aria-hidden="true">*</span>
      </span>
      <span id="char-count" class="muted" style="font-size:0.85em;"><%= f.object.text.to_s.length %>/5000</span>
    </div>
    <%= f.text_area :text, rows: 6, required: true, maxlength: 5000, placeholder: t('reviews.new.your_experience_placeholder'), aria: { describedby: 'text-help char-count' }, oninput: "document.getElementById('char-count').textContent = this.value.length + '/5000'", style: "width:100%; display:block; margin-top:4px;" %>
    <small id="text-help" class="muted" style="display:block; margin-top:4px;"><%= t('reviews.new.text_help') %></small>
  </div>

  <div>
    <%= f.label :email, t('reviews.new.email_optional') %><br>
    <%= f.email_field :email %>
  </div>

  <div style="margin-top:10px;">
    <%= f.submit t('reviews.new.submit'), class: 'cta' %>
  </div>
<% end %>

